<%
locals.OLSKPageTitle = OLSKLocalized('WKCNotesHeadingText');
locals.OLSKPageAssets = [
	'/shared-assets/external/OLSKTasks/main.js',
	'/cms/_shared/ui-style.css',
	'ui-style.css',
	'ui-logic.js',
	'ui-behaviour.js',
];
locals.OLSKPagePublicLocalizedStringKeys = [
	'WKSharedErrorServiceUnavailable',
	'WKSharedErrorTokenUnavailable',
	'WKCNotesErrorNotesUnavailable',
	'WKCNotesDetailToolbarPersistenceStatusSaving',
	'WKCNotesDetailToolbarPersistenceStatusSaved',
	'WKCNotesErrorPersistenceSaveDidFail',
	'WKCNotesDetailToolbarPersistenceStatusUnableToSave',
	'WKCNotesDetailToolbarPublishStatusPublishing',
	'WKCNotesErrorPublishDidFail',
	'WKCNotesDetailToolbarPublishStatusUnableToPublish',
	'WKCNotesDeleteConfirmation',
	'WKCNotesDetailToolbarPersistenceStatusDeleting',
	'WKCNotesDetailToolbarPersistenceStatusDeleted',
	'WKCNotesErrorPersistenceDeleteDidFail',
	'WKCNotesDetailToolbarPersistenceStatusUnableToDelete',
	'WKCNotesDetailToolbarPublishStatusPublished',
];
locals.OLSKPagePublicRouteKeys = [
	'WKCRouteAPINotesCreate',
	'WKCRouteAPIToken',
	'WKCRouteAPINotesSearch',
	'WKCRouteAPINotesUpdate',
	'WKCRouteAPINotesPublish',
	'WKCRouteAPINotesDelete',
];
%>

<%- include('../../_shared/WKCLayout/header.ejs') %>

<%- include('../_shared/layout-header.ejs') %>

<script type="text/javascript">
	WKCWriteBehaviour.lifecyclePageWillLoad();
</script>

<div id="WKCNotes" class="WKCNotesLoading">
	<div id="WKCWriteMaster">
		<header id="WKCWriteMasterToolbar" class="WKCSharedToolbar">
			<button id="WKCWriteMasterToolbarCreateButton" class="WKCSharedElementTappable WKCSharedButtonNoStyle" accesskey="n" title="<%= OLSKLocalized('WKCWriteMasterToolbarCreateButtonText') %>">‚ûï</button>
			<script type="text/javascript">
				d3.select('#WKCWriteMasterToolbarCreateButton').on('click', WKCWriteBehaviour.interfaceNotesMasterToolbarCreateButtonDidClick);
			</script>
		</header>

		<div id="WKCWriteMasterContent"></div>
	</div>

	<div id="WKCNotesDetail" class="WKCNotesDetailInactive">
		<header id="WKCNotesDetailToolbar" class="WKCSharedToolbar">
			<span id="WKCNotesDetailToolbarPersistenceStatus"></span>
			
			<span id="WKCNotesDetailToolbarPublishStatus"></span>

			<button id="WKCNotesDetailToolbarPublishButton" class="WKCSharedElementTappable WKCSharedButtonNoStyle" title="<%= OLSKLocalized('WKCNotesDetailToolbarPublishButtonText') %>" disabled>‚¨ÜÔ∏è</button>
			<script type="text/javascript">
				d3.select('#WKCNotesDetailToolbarPublishButton').on('click', WKCWriteBehaviour.interfacePublishButtonDidClick);
			</script>

			<button id="WKCNotesDetailToolbarDiscardButton" class="WKCSharedElementTappable WKCSharedButtonNoStyle" title="<%= OLSKLocalized('WKCNotesDetailToolbarDiscardButtonText') %>" disabled>üóë</button>
			<script type="text/javascript">
				d3.select('#WKCNotesDetailToolbarDiscardButton').on('click', WKCWriteBehaviour.interfaceDeleteButtonDidClick);
			</script>
		</header>

		<div id="WKCNotesDetailContent">
			<textarea id="WKCNotesDetailContentTextarea"></textarea>
			<script type="text/javascript">
				d3.select('#WKCNotesDetailContentTextarea').on('input', WKCWriteBehaviour.interfaceEditorTextareaDidReceiveInput);
			</script>
		</div>

		<div id="WKCNotesDetailPlaceholder"><span><%= OLSKLocalized('WKCNotesDetailPlaceholderText') %></span></div>
	</div>
</div>

<%- include('../../_shared/WKCLayout/footer.ejs') %>
