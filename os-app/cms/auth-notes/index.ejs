<%
locals.OLSKPageTitle = OLSKLocalized('WKCNotesTitle');
locals.OLSKPageAssets = [
	'ui-style.css',
	'ui-logic.js',
];
%>

<%- include('../../_shared/WKCLayout/header.ejs') %>

<script type="text/javascript">
	<%- include('behaviour.js') %>
</script>

<script type="text/javascript">
	WKBehaviour.WKLifecyclePageWillLoad(WKBehaviour._propertiesSharedData(undefined));
</script>

<div id="WKCAppNotes" class="WKCAppNotesLoading">
	<header id="WKCAppNotesToolbar">
		<span id="WKCAppNotesPersistenceStatus"></span>
		<span id="WKCAppNotesPublishStatus"></span>

		<button id="WKCAppNotesAddButton" accesskey="n"><%= OLSKLocalized('WKCAppNotesAddButtonText') %></button>
		<script type="text/javascript">
			d3.select('#WKCAppNotesAddButton').on('click', function() {
				WKBehaviour.WKCommandsAddNote(WKBehaviour._propertiesSharedData(undefined));
			});
		</script>

		<button id="WKCAppNotesDeleteButton" disabled><%= OLSKLocalized('WKCAppNotesDeleteButtonText') %></button>
		<script type="text/javascript">
			d3.select('#WKCAppNotesDeleteButton').on('click', function() {
				WKBehaviour.WKCommandsDeleteWithConfirmation(WKBehaviour._propertiesSharedData(undefined));
			});
		</script>

		<button id="WKCAppNotesPublishButton" disabled><%= OLSKLocalized('WKCAppNotesPublishButtonText') %></button>
		<script type="text/javascript">
			d3.select('#WKCAppNotesPublishButton').on('click', function() {
				d3.select('#WKCAppNotesPublishStatus').text('<%= OLSKLocalized('WKCAppNotesPublishStatusPublishing') %>');
			});
		</script>
	</header>

	<div id="WKCAppNotesMain">
		<div id="WKCAppNotesList">
		</div>

		<div id="WKCAppNotesEditor">
			<textarea id="WKCNotesAppEditorTextarea" disabled></textarea>
			<script type="text/javascript">
				d3.select('#WKCNotesAppEditorTextarea').on('input', function() {
					WKBehaviour.interfaceEditorTextareaDidReceiveInput(WKBehaviour._propertiesSharedData(undefined));
				});
			</script>
		</div>
	</div>

	<footer id="WKCAppNotesFooter">
		<a href="<%= OLSKCanonicalFor('WKCRouteLoginDestroy') %>"><%= OLSKLocalized('WKCLoginDestroyTitle') %></a>
	</footer>
</div>

<%- include('../../_shared/WKCLayout/footer.ejs') %>