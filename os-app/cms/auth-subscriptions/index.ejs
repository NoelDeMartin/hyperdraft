<%
locals.OLSKPageTitle = OLSKLocalized('WKCSubscriptionsTitle');
locals.OLSKPageAssets = [
	'/shared-assets/vendor/turndown/dist/turndown.js',
	'/shared-assets/vendor/ispinner.css/ispinner.prefixed.css',
	'ui-logic.js',
	'ui-style.css',
];
%>

<%- include('../../_shared/WKCLayout/header.ejs') %>

<script type="text/javascript">
	<%- include('behaviour.js') %>
</script>

<script type="text/javascript">
	WKSubscriptions.lifecyclePageWillLoad();
</script>

<h1><%= locals.OLSKPageTitle %></h1>

<form id="WKCAppSubscriptionsForm">
	<input type="text" placeholder="http://â€¦" autofocus id="WKCAppSubscriptionsFormInput">
	<input type="submit" value="<%= OLSKLocalized('WKCSubscriptionsFetch') %>">
</form>

<div id="WKCSubscriptionsLoader" class="WKCAppSubscriptionsHidden">
	<div class="ispinner ispinner--gray ispinner--animating">
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	  <div class="ispinner__blade"></div>
	</div>
</div>

<div id="WKCAppSubscriptionsConfirmation" class="WKCAppSubscriptionsHidden">
	<div id="WKCAppSubscriptionsConfirmationPreviewPageAlternatives" class="WKCAppSubscriptionsHidden">
		<p><%= OLSKLocalized('WKCSubscriptionsConfirmationAlternatives') %></p>
		<ul></ul>
	</div>

	<h2><%= OLSKLocalized('WKCSubscriptionsConfirmationTitle') %></h2>

	<form id="WKCAppSubscriptionsConfirmationForm">
		<p>
			<input type="text" placeholder="<%= OLSKLocalized('WKCSubscriptionsConfirmationNamePlaceholder') %>" id="WKCAppSubscriptionsConfirmationFormName">
		</p>
		
		<p>
			<textarea placeholder="<%= OLSKLocalized('WKCSubscriptionsConfirmationBlurbPlaceholder') %>" id="WKCAppSubscriptionsConfirmationFormBlurb"></textarea>
		</p>

		<input type="submit" value="<%= OLSKLocalized('WKCSubscriptionsConfirmationSubmit') %>">
	</form>

	<h3><%= OLSKLocalized('WKCSubscriptionsConfirmationPreview') %></h3>

	<section id="WKCAppSubscriptionsConfirmationPreviewFeed">
		<ul></ul>
	</section>

	<section id="WKCAppSubscriptionsConfirmationPreviewFile">
		<pre></pre>
	</section>

	<section id="WKCAppSubscriptionsConfirmationPreviewPage">
		<pre id="WKCAppSubscriptionsConfirmationPreviewPageContent"></pre>
	</section>
</div>

<script type="text/javascript">
	d3.select('#WKCAppSubscriptionsForm').on('submit', function() {
		d3.event.preventDefault();
		
		WKSubscriptions.interfaceFetchFormDidSubmit();
	});
</script>

<%- include('../../_shared/WKCLayout/footer.ejs') %>