<%
locals.OLSKPageTitle = OLSKLocalized('WKCSubscriptionsTitle');
locals.OLSKPageAssets = [
	'ui-logic.js',
	'ui-style.css',
];
%>

<%- include('../../_shared/WKCLayout/header.ejs') %>

<script type="text/javascript">
	<%- include('behaviour.js') %>
</script>

<script type="text/javascript">
	WKSubscriptions.lifecyclePageWillLoad();
</script>

<h1><%= locals.OLSKPageTitle %></h1>

<form id="WKCAppSubscriptionsForm">
	<input type="text" placeholder="http://â€¦" autofocus id="WKCAppSubscriptionsFormInput">
	<input type="submit" value="<%= OLSKLocalized('WKCSubscriptionsFetch') %>">
</form>

<div id="WKCAppSubscriptionsConfirmation" class="WKCAppSubscriptionsHidden">
	<h2><%= OLSKLocalized('WKCSubscriptionsConfirmationTitle') %></h2>

	<form id="WKCAppSubscriptionsConfirmationForm">
		<p>
			<input type="text" placeholder="<%= OLSKLocalized('WKCSubscriptionsConfirmationNamePlaceholder') %>" id="WKCAppSubscriptionsConfirmationFormName">
		</p>
		
		<p>
			<textarea placeholder="<%= OLSKLocalized('WKCSubscriptionsConfirmationBlurbPlaceholder') %>" id="WKCAppSubscriptionsConfirmationFormBlurb"></textarea>
		</p>

		<input type="submit" value="<%= OLSKLocalized('WKCSubscriptionsConfirmationSubmit') %>">
	</form>

	<h3><%= OLSKLocalized('WKCSubscriptionsConfirmationPreview') %></h3>

	<section id="WKCAppSubscriptionsConfirmationPreviewFeed">
		<ul></ul>
	</section>
</div>

<script type="text/javascript">
	d3.select('#WKCAppSubscriptionsForm').on('submit', function() {
		d3.event.preventDefault();
		
		WKSubscriptions.interfaceFetchFormDidSubmit();
	});
</script>

<%- include('../../_shared/WKCLayout/footer.ejs') %>